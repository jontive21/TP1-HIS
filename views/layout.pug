//- views/layout.pug

doctype html
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Sistema Hospitalario HIS
    link(rel="stylesheet" href="/styles/style.css")

  body
    header
      .header-container
        h1 Sistema Hospitalario HIS
        nav
          .nav-buttons
            if user
              .user-info
                span ¡Bienvenido, #{user.nombre}!
                a(href="/logout") Cerrar sesión
            else
              a.btn.btn-primary(href="/login") Iniciar Sesión

    main.container
      //- Mensaje de éxito
      if success
        .alert.alert-success #{success}
      
      //- Mensaje de error
      if error
        .alert.alert-danger #{error}

      block content

    footer.footer
      p © 2025 – HIS - Sistema Hospitalario Integrado
    main.container-fluid.py-4
      //- Mostrar mensajes de error/éxito
      if session && session.error
        .alert.alert-danger.alert-dismissible.fade.show
          = session.error
          button.btn-close(type="button" data-bs-dismiss="alert")
      
      if session && session.success
        .alert.alert-success.alert-dismissible.fade.show
          = session.success
          button.btn-close(type="button" data-bs-dismiss="alert")
      
      block content

    footer.bg-light.text-center.py-3.mt-5
      .container
        p.mb-0 
          i.bi.bi-c-circle.me-1
          | 2024 Sistema HIS Internación - Programación Web II
    
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
    script(src="/js/main.js")